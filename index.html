<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedido de Camisetas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Lótus Branco</h1>
            <p>Faça seu pedido de camisetas!</p>
        </header>

        <section id="order-section">
            <h2>Selecione sua Camiseta</h2>
            <form id="orderForm">
                <label for="model">Modelo:</label>
                <select id="model" required>
                    <option value="Tradicional">Tradicional</option>
                    <option value="BabyLook">BabyLook</option>
                </select>

                <label for="size">Tamanho:</label>
                <select id="size" required>
                    <option value="P">P</option>
                    <option value="M">M</option>
                    <option value="G">G</option>
                    <option value="EG">EG</option>
                </select>

                <label>Escolha a estampa:</label>
                <div id="designs"></div>

                <label for="quantity">Quantidade:</label>
                <input type="number" id="quantity" min="1" required>
            </form>
        </section>

        <section id="personal-data">
            <h2>Dados Pessoais</h2>
            <input type="text" id="name" placeholder="Nome" required>
            <input type="email" id="email" placeholder="E-mail" required>
            <input type="tel" id="phone" placeholder="Telefone" required>
            <button onclick="checkout()">Finalizar Pedido</button>
        </section>

        <script>
            let cart = [];
            const designsContainer = document.getElementById('designs');

            // Carregar estampas da planilha
            fetch('https://script.google.com/macros/s/AKfycbyTvUALwNKqSUdXEzJaLdkD28doGkqZCENYVDPmyGrmsiAskiIsh6vt6eMv9W0Lpjef/exec')
                .then(response => response.json())
                .then(data => {
                    data.forEach(estampa => {
                        designsContainer.innerHTML += `
                            <div>
                                <input type="radio" name="design" value="${estampa.nome}" required>
                                <img src="${estampa.imagem}" width="80" alt="${estampa.nome}">
                            </div>`;
                    });
                });

            function checkout() {
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const phone = document.getElementById('phone').value;
                const model = document.getElementById('model').value;
                const size = document.getElementById('size').value;
                const design = document.querySelector('input[name="design"]:checked').value;
                const quantity = document.getElementById('quantity').value;

                const data = {
                    name,
                    email,
                    phone,
                    cart: [{ model, size, quantity, design }]
                };

                fetch('https://script.google.com/macros/s/AKfycbxoJalpuXLiTOovotVH8uJtR4B7_LgUpFKhfxk9rPCBQAT_aXYvXXTefI5Q0YTutOc1/exec', {
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify(data),
                    headers: { 'Content-Type': 'application/json' }
                }).then(() => alert("Pedido enviado com sucesso!"));
            }
        </script>
    </div>
</body>
</html>
